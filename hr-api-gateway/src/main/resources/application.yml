server:
  port: 8765

logging:
  level:
    root: INFO
    org:
      springframework:
        cloud:
          gateway:
            route:
              RouterDefinitionLocator: INFO
        security: trace

eureka:
  client:
    serviceUrl:
      defaultZone: http://localhost:8761/eureka/



spring:
  main:
    allow-bean-definition-overriding: true
  application:
    name: hr-api-gateway # Nome do aplicativo
    version: 1.0.0 # Vers√£o do aplicativo
  security:
    oauth2:
      resourceserver:
        jwt:
          jwk-set-uri: https://localhost:8443/realms/ms-course/protocol/openid-connect/certs
        client:
          provider:
            keycloak:
              issuer-uri: https://localhost:8443/realms/ms-course
          registration:
            spring-with-test-scope:
              provider: keycloak
              client-id: admin-rest-client
              client-secret: NFOpCliOcgXnqRfZ68zheEIIJ2YcTtWc
              authorization-grant-type: client_credentials
              scope: openid
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true
      default-filters:
        - TokenRelay
      routes:
        - id: hr-worker
          uri: lb://hr-worker
          predicates:
            - Path=/hr-worker/**
        - id: hr-payroll
          uri: lb://hr-payroll
          predicates:
            - Path=/hr-payroll/**
        - id: hr-user
          uri: lb://hr-user
          predicates:
            - Path=/hr-user/**
        - id: hr-oauth
          uri: lb://hr-oauth
          predicates:
            - Path=/hr-oauth/**



